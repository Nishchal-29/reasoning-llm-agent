[
  {
    "problem": "If 3x + 2 = 11, find x.",
    "plan": [
      {"step": 1, "tool": "sympy", "input": "solve(3*x + 2 - 11, x)", "comment": "solve linear equation for x"},
      {"step": 2, "tool": "python", "input": "x = result_from_step1[0]; return {\"answer\": int(x)}", "comment": "return integer solution"}
    ]
  },
  {
    "problem": "A jar has 10 apples. You remove 3, then add 5. How many apples remain?",
    "plan": [
      {"step": 1, "tool": "calc", "input": "compute 10 - 3 + 5", "comment": "perform arithmetic"},
      {"step": 2, "tool": "python", "input": "result = result_from_step1; return {\"answer\": int(result)}", "comment": "return numeric answer"}
    ]
  },
  {
    "problem": "Solve for n: n(n+1) = 56. Which integer n satisfies this?",
    "plan": [
      {"step": 1, "tool": "sympy", "input": "solve(n*(n+1) - 56, n)", "comment": "solve quadratic-like equation"},
      {"step": 2, "tool": "python", "input": "sol = result_from_step1; ints=[int(s) for s in sol if abs(float(s)-round(float(s)))<1e-9]; return {\"answer\": ints}", "comment": "filter integer solutions"}
    ]
  },
  {
    "problem": "A 10x10x10 cube is painted on the outside and then cut into 1x1x1 cubes. How many small cubes have no paint?",
    "plan": [
      {"step": 1, "tool": "calc", "input": "compute (10-2)**3", "comment": "inner cube dimension after removing painted layers"},
      {"step": 2, "tool": "python", "input": "result = result_from_step1; return {\"answer\": int(result)}", "comment": "return count"}
    ]
  },
  {
    "problem": "How many ways to choose 2 items from 5 (order doesn't matter)?",
    "plan": [
      {"step": 1, "tool": "python", "input": "import math; return {\"answer\": math.comb(5,2)}", "comment": "compute combination"}
    ]
  },
  {
    "problem": "A train travels 60 km in 1.5 hours. What is its speed in km/h?",
    "plan": [
      {"step": 1, "tool": "calc", "input": "compute 60 / 1.5", "comment": "divide distance by time"},
      {"step": 2, "tool": "python", "input": "return {\"answer\": float(result_from_step1)}", "comment": "return speed"}
    ]
  },
  {
    "problem": "If a product costs $200 and is discounted by 15%, what is the sale price?",
    "plan": [
      {"step": 1, "tool": "calc", "input": "compute 200 * (1 - 0.15)", "comment": "apply percentage discount"},
      {"step": 2, "tool": "python", "input": "return {\"answer\": float(result_from_step1)}", "comment": "formatted price"}
    ]
  },
  {
    "problem": "Combinatorics: Number of ways to distribute 5 indistinguishable balls into 3 boxes (boxes can be empty).",
    "plan": [
      {"step": 1, "tool": "python", "input": "import math; return {\"answer\": math.comb(5 + 3 - 1, 3 - 1)}", "comment": "stars-and-bars formula C(n+k-1, k-1)"}
    ]
  },
  {
    "problem": "What is the least common multiple of 12 and 18?",
    "plan": [
      {"step": 1, "tool": "python", "input": "import math; l = abs(12*18)//math.gcd(12,18); return {\"answer\": l}", "comment": "compute lcm via gcd"}
    ]
  },
  {
    "problem": "Find the slope of the line through points (1,2) and (4,8).",
    "plan": [
      {"step": 1, "tool": "calc", "input": "compute (8 - 2) / (4 - 1)", "comment": "slope = (y2-y1)/(x2-x1)"},
      {"step": 2, "tool": "python", "input": "return {\"answer\": float(result_from_step1)}", "comment": "return slope"}
    ]
  },
  {
    "problem": "Probability: Two dice rolled. What is the probability the sum is 8?",
    "plan": [
      {"step": 1, "tool": "python", "input": "count = sum(1 for a in range(1,7) for b in range(1,7) if a+b==8); total=36; return {\"answer\": f\"{count}/{total}\", \"decimal\": count/total}", "comment": "enumerate outcomes for probability"}
    ]
  },
  {
    "problem": "Solve quadratic: x^2 - 5x + 6 = 0.",
    "plan": [
      {"step": 1, "tool": "sympy", "input": "solve(x**2 - 5*x + 6, x)", "comment": "solve quadratic"},
      {"step": 2, "tool": "python", "input": "return {\"answer\": result_from_step1}", "comment": "return roots"}
    ]
  },
  {
    "problem": "Geometry: area of a circle with radius 3 (π approximated as pi).",
    "plan": [
      {"step": 1, "tool": "python", "input": "import math; return {\"answer\": math.pi * 3**2}", "comment": "use math.pi for area"}
    ]
  },
  {
    "problem": "Inequality: Solve 2x + 3 > 7 for x (real numbers).",
    "plan": [
      {"step": 1, "tool": "sympy", "input": "solve_univariate_inequality(2*x + 3 > 7, x)", "comment": "use sympy inequality solver"},
      {"step": 2, "tool": "python", "input": "return {\"answer\": str(result_from_step1)}", "comment": "return solution set"}
    ]
  },
  {
    "problem": "Find gcd(48, 180).",
    "plan": [
      {"step": 1, "tool": "python", "input": "import math; return {\"answer\": math.gcd(48,180)}", "comment": "compute greatest common divisor"}
    ]
  },
  {
    "problem": "If a and b are integers and a ≡ 3 (mod 5), b ≡ 4 (mod 5), what is (a+b) mod 5?",
    "plan": [
      {"step": 1, "tool": "calc", "input": "compute (3 + 4) % 5", "comment": "add residues and mod"},
      {"step": 2, "tool": "python", "input": "return {\"answer\": int(result_from_step1)}", "comment": "return residue"}
    ]
  },
  {
    "problem": "An urn contains 3 red and 2 blue balls. One ball drawn then returned, repeated twice. What is probability both draws are red?",
    "plan": [
      {"step": 1, "tool": "calc", "input": "compute (3/5) * (3/5)", "comment": "probability with replacement"},
      {"step": 2, "tool": "python", "input": "return {\"answer\": float(result_from_step1)}", "comment": "return decimal probability"}
    ]
  },
  {
    "problem": "How many permutations of letters in the word 'LEVEL' (letters repeated)?",
    "plan": [
      {"step": 1, "tool": "python", "input": "from collections import Counter; s='LEVEL'; counts=Counter(s); import math; denom=1\nfor v in counts.values(): denom *= math.factorial(v)\nreturn {\"answer\": math.factorial(len(s))//denom}", "comment": "permutations with repeated letters"}
    ]
  },
  {
    "problem": "A machine makes 5 widgets per hour. How long to make 40 widgets?",
    "plan": [
      {"step": 1, "tool": "calc", "input": "compute 40 / 5", "comment": "time = items / rate"},
      {"step": 2, "tool": "python", "input": "return {\"answer\": float(result_from_step1)}", "comment": "return hours"}
    ]
  },
  {
    "problem": "If log base 10 of x is 2, what is x?",
    "plan": [
      {"step": 1, "tool": "calc", "input": "compute 10**2", "comment": "invert log base 10"},
      {"step": 2, "tool": "python", "input": "return {\"answer\": int(result_from_step1)}", "comment": "return x"}
    ]
  }
]
